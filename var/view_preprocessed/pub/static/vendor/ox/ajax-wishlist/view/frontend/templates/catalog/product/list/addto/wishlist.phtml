<?php /** * @var Wishlist $block * @var AjaxWishlistStatus $viewModel */ use Magento\Wishlist\Block\Catalog\Product\ProductList\Item\AddTo\Wishlist; use OX\AjaxWishlist\ViewModel\AjaxWishlistStatus; ?> <?php if ($block->getWishlistHelper()->isAllow()): ?> <?php $viewModel = $block->getData('moduleStatusViewModel'); ?> <?php if ($viewModel->moduleStatus()): ?> <!-- ko scope: 'ajaxwishlist' --><a class="action towishlist" data-bind="css:{wishlisticon : wishlistitem().all_wishlist_items ?typeof wishlistitem().all_wishlist_items[<?= /* @noEscape */ $block->getProduct()->getId() ?>]!='undefined':false}" title="<?= $block->escapeHtmlAttr(__('Add to Wish List')) ?>" aria-label="<?= $block->escapeHtmlAttr(__('Add to Wish List')) ?>" data-action="wishlist-actions" data-product-id='<?= /* @noEscape */ $block->getProduct()->getId() ?>' role="button"><span><?= $block->escapeHtml(__('Add to Wish List')) ?></span></a> <!-- /ko --><?php else: ?> <a href="#" class="action towishlist" title="<?= $block->escapeHtmlAttr(__('Add to Wish List')) ?>" aria-label="<?= $block->escapeHtmlAttr(__('Add to Wish List')) ?>" data-post='<?= /* @noEscape */ $block->getAddToWishlistParams($block->getProduct()) ?>' data-action="add-to-wishlist" role="button"><span><?= $block->escapeHtml(__('Add to Wish List')) ?></span></a> <?php endif; ?> <?php endif; ?>