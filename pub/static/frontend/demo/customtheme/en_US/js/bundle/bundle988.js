require.config({"config": {
        "jsbuild":{"Magepow_AjaxWishlist/js/ajaxwishlist.js":"define([\n    'jquery',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate',\n    'mage/url',\n    'jquery/ui',\n    'mage/loader' \n], function($, modal, $t, url) {\n    'use strict';\n\n    $.widget('magepow.ajaxWishlist', {\n\n        options: {\n            isShowSpinner: true,\n            isShowSuccessMessage: true,\n            customerLoginUrl: null,\n            popupTtl: 10,\n            buttonClose: '.action-close',\n            formKeyInputSelector: 'input[name=\"form_key\"]',\n            popupWrapperSelector: '.show-popup-wapper-wishlist',\n            removeFromWishlistSelector: '.block-wishlist .btn-remove',\n            wishlistBlockSelector: '#wishlist-view-form',\n            addToWishlistButtonSelector: '[data-action=\"add-to-wishlist\"]',\n            addToWishlistButtonDisabledClass: 'disabled',\n            addToWishlistButtonTextWhileAdding: '',\n            addToWishlistButtonTextAdded: '',\n            addToWishlistButtonTextDefault: ''\n        },\n\n        _create: function() {\n            var self = this;\n            this._bind();\n            this.viewWishlist();\n            this.closePopup();\n        },\n\n        closePopup: function() {\n            $(document).on('click', '#ajaxwishlist_btn_close_popup' , function() {\n                $(this.options.buttonClose).trigger('click');\n            })\n        },\n        \n        viewWishlist: function(){\n            $(document).on('click', \"#wishlist_checkout\", function() {\n                window.location.replace(url.build('wishlist'));\n            })\n        },\n        _bind: function () {\n            var self = this,\n                selectors = [\n                this.options.addToWishlistButtonSelector,\n                this.options.removeFromWishlistSelector\n            ];\n\n            $('body').on('click', selectors.join(','), $.proxy(this._processViaAjax, this));\n        },\n\n\n        _processViaAjax: function(event) {\n            var self   = this,\n                post   = $(event.currentTarget).data('post'),\n                url    = post.action,\n                parent = $(event.currentTarget).parent(),\n                data   = $.extend(post.data, {form_key: $(this.options.formKeyInputSelector).val()});\n            $.ajax(url, {\n                method: 'POST',\n                data: data,\n                showLoader: this.options.isShowSpinner,\n                beforeSend: function () {\n                    self.disableAddToWishlistButton(parent);\n                },\n                success: function () {\n                    self.enableAddToWishlistButton(parent);\n                },\n            }).done($.proxy(this._successHandler, this)).fail($.proxy(this._errorHandler, this));\n\n            event.stopPropagation();\n            event.preventDefault();\n        },\n\n        _successHandler: function(data) {\n            var self = this,\n                wishlistPopup = $(self.options.popupWrapperSelector),\n                body = $('body');\n            if (!data.success && data.error == 'not_logged_in') return;\n            $(this.options.wishlistBlockSelector).replaceWith(data.wishlist);\n            \n            if (this.options.isShowSuccessMessage && data.message) {\n                if (!wishlistPopup.length) {\n                    body.append('<div class=\"' + self.options.popupWrapperSelector.replace(/^./, \"\") +'\">'+data.message+'</div>');\n                }\n                self._showPopup();\n                if (self.options.popupTtl) {\n                    var wishlist_autoclose_countdown = setInterval(function (wrapper) {\n                    var leftTimeNode = $(document).find('#ajaxwishlist_btn_close_popup .wishlist-autoclose-countdown');\n                    var leftTime = parseInt(leftTimeNode.text()) - 1;                   \n                    leftTimeNode.text(leftTime);\n                    if (leftTime <= 0) {\n                        $(self.options.buttonClose).trigger('click').fadeOut('slow');\n                        clearInterval(wishlist_autoclose_countdown);  \n                        }\n                    }, 1000);\n                }\n                self.viewWishlist();\n            }\n        },\n\n        _showPopup: function() {\n            var self = this,\n                wishlistPopup = $(self.options.popupWrapperSelector);\n            var modaloption = {\n                type: 'popup',\n                modalClass: 'modal-popup_ajaxwishlist_magepow',\n                responsive: true,\n                innerScroll: true,\n                clickableOverlay: true,\n                closed: function(){\n                   $('.modal-popup_ajaxwishlist_magepow').remove();\n                }\n            };\n            modal(modaloption, wishlistPopup);\n            wishlistPopup.modal('openModal');\n        },\n\n        _errorHandler: function () {\n            console.warn(\"Add to the wish list unsuccessful\");\n        },\n\n        /**\n         * @param {String} form\n         */\n        disableAddToWishlistButton: function (form) {\n            var addToWishlistButtonTextWhileAdding = this.options.addToWishlistButtonTextWhileAdding || $t('Adding...'),\n                addToWishlistButton = $(form).find(this.options.addToWishlistButtonSelector);\n\n            addToWishlistButton.addClass(this.options.addToWishlistButtonDisabledClass);\n            addToWishlistButton.find('span').text(addToWishlistButtonTextWhileAdding);\n            addToWishlistButton.attr('title', addToWishlistButtonTextWhileAdding);\n        },\n\n        /**\n         * @param {String} form\n         */\n        enableAddToWishlistButton: function (form) {\n            var addToWishlistButtonTextAdded = this.options.addToWishlistButtonTextAdded || $t('Added'),\n                self = this,\n                addToWishlistButton = $(form).find(this.options.addToWishlistButtonSelector);\n\n            addToWishlistButton.find('span').text(addToWishlistButtonTextAdded);\n            addToWishlistButton.attr('title', addToWishlistButtonTextAdded);\n\n            setTimeout(function () {\n                var addToWishlistButtonTextDefault = self.options.addToWishlistButtonTextDefault || $t('Add to Wishlist');\n\n                addToWishlistButton.removeClass(self.options.addToWishlistButtonDisabledClass);\n                addToWishlistButton.find('span').text(addToWishlistButtonTextDefault);\n                addToWishlistButton.attr('title', addToWishlistButtonTextDefault);\n            }, 1000);\n        }\n\n\n    });\n\n    return $.magepow.ajaxWishlist;\n});"}
}});
